
<app-detalle-paciente *ngIf="pacienteSeleccionado" [paciente] ="pacienteSeleccionado"></app-detalle-paciente>

<div class="card text-white mb-3">
    <div class="card-header text-dark">Pacientes</div>
    <div class="card-body table-responsive">
        <h5 class="card-title text-dark">Listado Pacientes</h5>

        <div class="my-2 text-left">
            <!-- [routerLink] permite crear enlaces hacia nuestras rutas internas -->
            <button class="btn btn-primary btn-rounded" 
                    type="button" 
                    [routerLink]="['/pacientes/form']">
                Nuevo Paciente
            </button>
        </div>

        <div class="alert alert-info"
             *ngIf="pacientes?.length == 0">
            No hay registros en la base de datos
        </div>
        <table class="table table-bordered table-striped"
               *ngIf="pacientes.length > 0" >
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Documento Identidad</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let paciente of pacientes">
                    <td (click)="abrirModal(paciente)"><span class="pointer">{{ paciente.id }}</span></td>
                    <td (click)="abrirModal(paciente)"><span class="pointer">{{ paciente.nombre }}</span></td>
                    <td (click)="abrirModal(paciente)"><span class="pointer">{{ paciente.apellido }}</span></td>
                    <td (click)="abrirModal(paciente)"><span class="pointer">{{ paciente.documentoIdentidad }}</span></td>
                    <!-- <td>
                        <button class="btn btn-success btn-sm" 
                                type="button" 
                                name="factura"
                                [routerLink]="['/facturas/form', cliente.id]">
                            Crear factura
                        </button>
                    </td> -->
                    <td>
                        <button class="btn btn-primary btn-sm" 
                                type="button" 
                                name="editar"
                                [routerLink]="['/pacientes/form', paciente.id]">
                            editar
                        </button>
                    </td>
                    <td>
                        <button class="btn btn-danger btn-sm" 
                                type="button" 
                                name="eliminar" 
                                (click)='delete(paciente)'>
                            eliminar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>
</div>